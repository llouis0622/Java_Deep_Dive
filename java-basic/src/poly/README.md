## 10. 다형성 1

### 1. 다형성 시작
- 다형성(Polymorphism) : 한 객체가 여러 타입의 객체로 취급될 수 있는 능력
- 다형적 참조 : 부모 타입의 변수가 자식 인스턴스 참조 -> 다양한 형태 참조 가능
  - 부모 타입은 자신은 물론이고 자신을 기준으로 모든 자식 참조 가능

### 2. 다형성과 캐스팅
- 캐스팅 : `(타입)`을 사용해서 참조 대상을 특정 타입으로 변경
- 다운캐스팅 -> 부모 타입을 잠깐 자식 타입으로 변경
- 업캐스팅(Upcasting) : 부모 타입으로 변경
- 다운캐스팅(Downcasting) : 자식 타입으로 변경

### 3. 캐스팅의 종류
- 일시적 다운캐스팅 : 인스턴스에 있는 하위 클래스의 기능 바로 호출 가능
- 업캐스팅 : 부모 타입으로 변환하는 경우 캐스팅 코드 생략 권장

### 4. 다운캐스팅과 주의점
- 사용할 수 없는 타입으로 다운캐스팅 -> `ClassCastException` 예외 발생
- 업캐스팅 : 메모리 상 인스턴스 모두 존재 -> 항상 안전함
- 다운캐스팅 : 인스턴스에 존재하지 않는 하위 타입으로 캐스팅 -> 명시적으로 캐스팅
- 컴파일 오류 : 변수명 오타, 잘못된 클래스 이름 사용 등 자바 프로그램을 실행하기 전에 발생하는 오류
- 런타임 오류 : 프로그램이 실행되고 있는 시점에 발생하는 오류

### 5. instanceof
- 변수가 참조하는 인스턴스 타입 확인 가능
- 자바 16 : Pattern Matching for instanceof, `instanceof`를 사용하면서 동시에 변수 선언 가능

### 6. 다형성과 메서드 오버라이딩
- 메서드 오버라이딩 : 오버라이딩 된 메서드가 항상 우선권을 가짐
- 부모 타입에서 정의한 기능을 자식 타입에서 재정의

---

## 11. 다형성 2

### 1. 다형성 활용 1
- 메서드로 중복 제거 -> 클래스가 달라 메서드 함께 사용 불가
- 배열과 for문을 통한 중복 제거 -> 타입이 서로 달라 하나의 배열에 담지 못함

### 2. 다형성 활용 2
- 다형적 참조 -> 부모 변수는 자식의 인스턴스를 참조 가능
- 메서드 오버라이딩 -> 각 인스턴스의 메서드 호출 가능

### 3. 다형성 활용 3
- 배열 활용 -> 같은 타입의 배열을 만들고 다형적 참조 사용
- 구체적인 클래스 참조 -> 추상적인 부모 참조

### 4. 추상 클래스 1
- 추상 클래스 : 부모 클래스는 제공하지만 실제 생성되면 안되는 클래스
  - `abstract` 키워드 붙임
  - 실체인 인스턴스 존재하지 않음 -> 상속을 목적으로 사용
- 추상 메서드 : 부모 클래스를 상속 받는 자식 클래스가 반드시 오버라이딩 해야하는 메서드
  - `abstract` 키워드 붙임
  - 실체 존재하지 않음 -> 메서드 바디 없음
  - 추상 메서드가 하나라도 있는 클래스 -> 추상 클래스로 선언
  - 상속 받는 자식 클래스가 반드시 오버라이딩 해서 사용

### 5. 추상 클래스 2
- 순수 추상 클래스 : 모든 메서드가 추상 메서드인 추상 클래스
  - 인스턴스 생성 불가
  - 상속 시 자식은 모든 메서드를 오버라이딩 해야함
  - 주로 다형성을 위해 사용

### 6. 인터페이스
- `interface` 키워드 사용 -> 순수 추상 클래스를 더 편리하게 이용
  - 인터페이스의 메서드는 모두 `public`, `abstract`
  - 메서드에 `public abstract` 생략 가능(권장)
  - 다중 구현(다중 상속) 지원
  - `implements` 키워드 사용 -> 구현

### 7. 인터페이스 - 다중 구현
- 인터페이스 모두 추상 메서드로 이루어짐 -> 다중 구현 가능
  - 인터페이스를 구현하는 곳에서 해당 기능 모두 구현
  - 결과적으로 두 부모 중에 어떤 한 부모의 메서드를 선택하는 것이 아님 -> 자식 클래스의 메서드 사용

### 8. 클래스와 인터페이스 활용
- 클래스 상속, 인터페이스 구현 함께 사용 가능
- `extends` -> `implements` 순서로 작성

---

## 12. 다형성과 설계

### 1. 좋은 객체 지향 프로그래밍이란?
- 객체 지향 특징
  - 추상화
  - 캡슐화
  - 상속
  - 다형성
- 객체 지향 프로그래밍 : 컴퓨터 프로그램을 명령어의 목록으로 보는 시각에서 벗어나 여러 개의 독립된 단위, '객체'들의 모임으로 파악하고자 하는 것
  - 프로그램을 유연하고 변경이 용이하게 만듦 -> 대규모 소프트웨어 개발에 사용
- 역할과 구현 분리
  - 세상이 단순해지고 유연해지며 변경도 편리해짐
  - 클라이언트는 대상의 역할만 알면 됨
  - 클라이언트는 구현 대상의 내부 구조를 몰라도 됨
  - 클라이언트는 구현 대상의 내부 구조가 변경되어도 영향을 받지 않음
  - 클라이언트는 구현 대상 자체를 변경해도 영향을 받지 않음
  - 자바 언어의 다형성 : 역할 -> 인터페이스, 구현 -> 인터페이스를 구현한 클래스, 구현 객체
- 다형성의 본질
  - 인터페이스를 구현한 객체 인스턴스를 실행 시점에 유연하게 변경 가능
  - 다형성의 본질 이해 -> 협력이라는 객체사이의 관계에서 시작
  - 클라이언트를 변경하지 않고 서버의 구현 기능 유연하게 변경 가능

### 2. 다형성 - 역할과 구현 예제 1
- 역할과 구현을 분리하지 않고 단순 개발

### 3. 다형성 - 역할과 구현 예제 2
- 새로운 요구사항 -> 기존 코드 변경

### 4. 다형성 - 역할과 구현 예제 3
- 역할과 구현 분리 -> 클라이언트 코드 변경 불필요, 구현 객체 변경

### 5. OCP(Open-Closed Principle) 원칙
- Open for Extension : 새로운 기능의 추가나 변경 사항이 생겼을 때 기존 코드는 확장할 수 있어야 함
- Closed for Modification : 기존의 코드는 수정되지 않아야 함
- 확장에는 열려있고 변경에는 닫혀 있음 -> 기존의 코드 수정 없이 새로운 기능을 추가할 수 있어야 함
- 전략 패턴(Strategy Pattern) : 알고리즘을 클라이언트 코드의 변경 없이 쉽게 교체 가능